/*
popModal - 1.10 [07.10.14]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
(function(a){a.fn.popModal=function(c){function g(){function c(a){var b=Math.max(u,v,w);return("bottomLeft"==a?0<v:"bottomRight"==a?0<u:0<w)?a:0<v&&v==b?"bottomLeft":0<u&&u==b?"bottomRight":0<w&&w==b?"bottomCenter":a}if(h.inline)var f=d.position().left,e=d.position().top;else f=d.offset().left,e=d.offset().top;var q=parseInt(d.css("marginLeft"));parseInt(d.css("paddingLeft"));var g=parseInt(d.css("marginTop")),k=d.outerHeight(),l=d.outerWidth(),m=parseInt(b.css("maxWidth")),p=parseInt(b.css("minWidth")),
r=b.outerHeight();n?isNaN(m)&&(m=300):(isNaN(p)&&(p=180),m=p);b.css({width:m+"px"});var t,s=d.offset().left,z=a(window).width()-d.offset().left-l,B=d.offset().top,p=s-10-m,u=l+s-m,C=z-10-m,v=l+z-m,w=Math.min(l/2+z-m/2,l/2+s-m/2),s=B-r/2;/^bottom/.test(h.placement)?t=c(h.placement):/^left/.test(h.placement)?t=0<p?"leftCenter"==h.placement&&0<s?"leftCenter":"leftTop":c("bottomLeft"):/^right/.test(h.placement)&&(t=0<C?"rightCenter"==h.placement&&0<s?"rightCenter":"rightTop":c("bottomRight"));b.removeAttr("class").addClass("popModal animated "+
t);switch(t){case "bottomLeft":b.css({top:e+g+k+10+"px",left:f+q+"px"}).addClass("fadeInBottom");break;case "bottomRight":b.css({top:e+g+k+10+"px",left:f+q+l-m+"px"}).addClass("fadeInBottom");break;case "bottomCenter":b.css({top:e+g+k+10+"px",left:f+q+(l-m)/2+"px"}).addClass("fadeInBottom");break;case "leftTop":b.css({top:e+g+"px",left:f+q-m-10+"px"}).addClass("fadeInLeft");break;case "rightTop":b.css({top:e+g+"px",left:f+q+l+10+"px"}).addClass("fadeInRight");break;case "leftCenter":b.css({top:e+
g+k/2-r/2+"px",left:f+q-m-10+"px"}).addClass("fadeInLeft");break;case "rightCenter":b.css({top:e+g+k/2-r/2+"px",left:f+q+l+10+"px"}).addClass("fadeInRight")}}function k(){b=a(".popModal");b.length&&(e(),l||(l=b.css("animationDuration"),l=void 0!=l?1E3*l.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());b.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},l))}function e(){var a=b.attr("class"),d=a.replace("fadeIn",
"fadeOut");b.removeClass(a).addClass(d)}var d=a(this),b,f="",n=!0,q="",m,h,l,r,p={init:function(c){h=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,beforeLoadingContent:"Please, waiting...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},c);if(0!=a("body").find(".popModal").length&&a("body").find(".popModal").attr("data-popmodal_id")==d.attr("data-popmodal_id"))k();
else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();h.showCloseBut&&(q=a('<button type="button" class="close">&times;</button>'));"fixed"==d.css("position")&&(f="position:fixed;");m=h.overflowContent?"popModal_contentOverflow":"";r=(new Date).getMilliseconds();d.attr("data-popmodal_id",r);c=a('<div class="popModal animated" style="'+f+'" data-popmodal_id="'+r+'"></div>');var e=a('<div class="popModal_content '+
m+'"></div>');c.append(q,e);a.isFunction(h.html)?(e.append(h.beforeLoadingContent),h.html(function(d){e.empty().append(d);b=a(".popModal");n=!0;g()})):("object"==a.type(h.html)&&h.html.after(a('<div class="popModal_source"></div>')),e.append(h.html));h.inline?d.after(c):a("body").append(c);b=a(".popModal");b.find(".popModal_footer")&&b.find(".popModal_content").css({marginBottom:b.find(".popModal_footer").outerHeight()+"px"});a.isFunction(h.html)||a.type(h.html);if(h.onLoad&&a.isFunction(h.onLoad))h.onLoad();
b.on("destroyed",function(){if(h.onClose&&a.isFunction(h.onClose))h.onClose()});n=!0;("absolute"!=d.parent().css("position")||"fixed"!=d.parent().css("position"))&&270>b.find(".popModal_content").width()&&20>=b.find(".popModal_content").height()&&0==b.find(".popModal_footer").length&&(n=!1);g();if(h.onDocumentClickClose)a("html").on("click.popModalEvent",function(c){a(this).addClass("popModalOpen");b.is(":hidden")&&k();var e=a(c.target);e.parents().andSelf().is(".popModal")||e.parents().andSelf().is(d)||
(c=parseInt(e.parents().filter(function(){return"auto"!==a(this).css("zIndex")}).first().css("zIndex")),isNaN(c)&&(c=0),""!=h.onDocumentClickClosePrevent&&e.is(h.onDocumentClickClosePrevent)&&(c=9999),e=e.css("zIndex"),"auto"==e&&(e=0),c<e&&(c=e),c<=b.css("zIndex")&&k())});a(window).resize(function(){g()});b.find(".close").on("click",function(){k();a(this).off("click")});b.find('[data-popmodal-but="close"]').on("click",function(){k();a(this).off("click")});b.find('[data-popmodal-but="ok"]').on("click",
function(b){var c;h.onOkBut&&a.isFunction(h.onOkBut)&&(c=h.onOkBut(b));!1!==c&&k();a(this).off("click")});b.find('[data-popmodal-but="cancel"]').on("click",function(){if(h.onCancelBut&&a.isFunction(h.onCancelBut))h.onCancelBut();k();a(this).off("click")});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&k()})}},hide:function(){k()}};if(p[c])return p[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return p.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",
function(){var c=a(this).attr("data-popmodal-bind"),c={html:a(c)};void 0!=a(this).attr("data-placement")&&(c.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-showclose-but")&&(c.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!=a(this).attr("data-overflowcontent")&&(c.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!=a(this).attr("data-ondocumentclick-close")&&(c.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));
void 0!=a(this).attr("data-ondocumentclick-close-prevent")&&(c.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!=a(this).attr("data-inline")&&(c.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!=a(this).attr("data-beforeloading-content")&&(c.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(c)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(c){function g(){var c=a(".notifyModal");setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();-1!=b.duration&&clearTimeout(notifDur);if(b.onClose&&a.isFunction(b.onClose))b.onClose()},f)},f)}var k=a(this),e,d="",b,f,n={init:function(c){b=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0,onClose:function(){}},c);b.overlay&&(d="overlay");a(".notifyModal").remove();c=a('<div class="notifyModal '+b.placement+" "+d+" "+b.type+
'"></div>');var m=a('<div class="notifyModal_content"></div>'),h=a('<button type="button" class="close">&times;</button>');k=void 0==k[0]?k.selector:k[0].innerHTML;m.append(h,k);c.append(m);a("body").append(c);e=a(".notifyModal");f||(f=e.css("transitionDuration"),f=void 0!=f?1E3*f.replace("s",""):0);setTimeout(function(){e.addClass("open")},f);e.click(function(){g()});-1!=b.duration&&(notifDur=setTimeout(g,b.duration))},hide:function(){g()}};a("html").keydown(function(a){27==a.keyCode&&g()});if(n[c])return n[c].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return n.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var c=a(this).attr("data-notifymodal-bind"),g={};void 0!=a(this).attr("data-duration")&&(g.duration=parseInt(a(this).attr("data-duration")));void 0!=a(this).attr("data-placement")&&(g.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-ontop")&&(g.onTop=/^true$/i.test(a(this).attr("data-ontop")));a(c).notifyModal(g)})})(jQuery);
(function(a){a.fn.hintModal=function(c){var g={init:function(c){a(this).mouseenter(function(){var c=a(this).find("> .hintModal_container");c.addClass("animated fadeInBottom");var d=a(this),b,f=d.outerWidth();b=c.outerWidth();var g=d.offset().left,k=a(window).width()-d.offset().left-f,c=f+g-b,m=f+k-b,f=Math.min(f/2+k-b/2,f/2+g-b/2);b=d.hasClass("bottomLeft")?"bottomLeft":d.hasClass("bottomCenter")?"bottomCenter":d.hasClass("bottomRight")?"bottomRight":"bottomLeft";void 0==d.data("placement")&&d.data("placement",
b);b=d.data("placement");g=Math.max(c,m,f);c=("bottomLeft"==b?0<m:"bottomRight"==b?0<c:0<f)?b:0<m&&m==g?"bottomLeft":0<c&&c==g?"bottomRight":0<f&&f==g?"bottomCenter":b;d.removeAttr("class").addClass("hintModal "+c)});a(this).mouseleave(function(){a(this).find("> .hintModal_container").removeClass("animated fadeInBottom")})}};if(g[c])return g[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return g.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(c){function g(){var b=a(".dialogModal");setTimeout(function(){b.removeClass("open");setTimeout(function(){b.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");b.find(".dialogPrev").off("click");b.find(".dialogNext").off("click")},f)},f)}var k=a(this),e,d,b,f,n={init:function(c){function m(){var b=d.outerHeight();a(window).height()>b+80?d.css({marginTop:(a(window).height()-
b)/2-100+"px"}):d.css({marginTop:"60px"});setTimeout(function(){e.addClass("open")},f);h()}function h(){e.find('[data-dialogmodal-but="close"]').on("click",function(){g();a(this).off("click")});e.find('[data-dialogmodal-but="ok"]').on("click",function(c){var d;b.onOkBut&&a.isFunction(b.onOkBut)&&(d=b.onOkBut(c));!1!==d&&g();a(this).off("click")});e.find('[data-dialogmodal-but="cancel"]').on("click",function(){if(b.onCancelBut&&a.isFunction(b.onCancelBut))b.onCancelBut();g();a(this).off("click")})}
b=a.extend({onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},c);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();var l=0,n=k.length-1;dialogMain=a('<div class="dialogModal"></div>');dialogContainer=a('<div class="dialogModal_container"></div>');dialogCloseBut=a('<button type="button" class="close">&times;</button>');dialogBody=
a('<div class="dialogModal_body"></div>');dialogMain.append(dialogContainer);dialogContainer.append(dialogCloseBut,dialogBody);dialogBody.append(k[l].innerHTML);0<n&&dialogContainer.prepend(a('<div class="dialogPrev notactive"></div><div class="dialogNext"></div>'));a("body").append(dialogMain);e=a(".dialogModal");d=a(".dialogModal_container");f||(f=e.css("transitionDuration"),f=void 0!=f?1E3*f.replace("s",""):0);if(b.onLoad&&a.isFunction(b.onLoad))b.onLoad();e.on("destroyed",function(){if(b.onClose&&
a.isFunction(b.onClose))b.onClose()});c=window.innerWidth-a(window).outerWidth();a("body").css({paddingRight:c+"px"}).addClass("dialogModalOpen");m();e.find(".dialogPrev").on("click",function(){0<l&&(--l,l<n&&e.find(".dialogNext").removeClass("notactive"),0==l&&e.find(".dialogPrev").addClass("notactive"),dialogBody.empty().append(k[l].innerHTML),m())});e.find(".dialogNext").on("click",function(){l<n&&(++l,0<l&&e.find(".dialogPrev").removeClass("notactive"),l==n&&e.find(".dialogNext").addClass("notactive"),
dialogBody.empty().append(k[l].innerHTML),m())});e.find(".close").on("click",function(){g();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?g():37==a.keyCode?e.find(".dialogPrev").click():39==a.keyCode&&e.find(".dialogNext").click()})},hide:function(){g()}};if(n[c])return n[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return n.init.apply(this,arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var c=a(this).attr("data-dialogmodal-bind");
a(c).dialogModal()});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(c){var g={init:function(c){function e(){var a=b.attr("class"),c=a.replace("fadeIn","fadeOut");b.removeClass(a).addClass(c)}var d,b;c=a("*[data-titlemodal]");var f;c.mouseenter(function(){d=a(this);titleAttr=d.attr("title");d.removeAttr("title");d.attr("data-title",titleAttr);titleModal=a('<div class="titleModal animated"></div>');b=a(".titleModal");placement=d.attr("data-placement");void 0==placement&&(placement="bottom");b&&b.remove();d.after(titleModal.append(titleAttr));
b=a(".titleModal");var c=d.position().left,e=d.position().top,f=d.css("marginLeft"),g=d.css("marginTop"),l=d.css("marginBottom"),k=d.outerHeight(),p=d.outerWidth(),A=b.css("marginTop"),x=b.outerWidth(),y=b.outerHeight();switch(placement){case "bottom":b.css({marginTop:parseInt(A)-parseInt(l)+"px",left:c+parseInt(f)+(p-x)/2+"px"}).addClass("fadeInBottom");break;case "top":b.css({top:e+parseInt(g)-y+"px",left:c+parseInt(f)+(p-x)/2+"px"}).addClass("top fadeInTop");break;case "left":b.css({top:e+parseInt(g)+
k/2-y/2+"px",left:c+parseInt(f)-x-10+"px"}).addClass("left fadeInLeft");break;case "right":b.css({top:e+parseInt(g)+k/2-y/2+"px",left:c+parseInt(f)+p+10+"px"}).addClass("right fadeInRight")}});c.mouseleave(function(){d=a(this);titleAttr=d.attr("data-title");d.removeAttr("data-title");d.attr("title",titleAttr);e();f||(f=b.css("animationDuration"),f=void 0!=f?1E3*f.replace("s",""):0);setTimeout(function(){b.remove()},f)})}};if(g[c])return g[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===
typeof c||!c)return g.init.apply(this,arguments)}()})(jQuery);
